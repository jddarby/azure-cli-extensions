interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 21:56:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 747773B59FC94B678E83CAB3B93744E1 Ref B: CO6AA3150217025 Ref C: 2024-05-14T21:56:59Z'
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher?api-version=2023-09-01
  response:
    body:
      string: '{"error": {"code": "ResourceNotFound", "message": "The Resource ''Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher''
        under resource group ''cli_test_vnf_nsd_000001'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '270'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 21:56:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
      x-msedge-ref:
      - 'Ref A: 338057E5BFFB4E66A50824B8A2840D44 Ref B: CO6AA3150220053 Ref C: 2024-05-14T21:56:59Z'
    status:
      code: 404
      message: Not Found
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "330068761100729304"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of a publisher, expected to be in the resource group where you deploy
      the template"}}, "acrArtifactStoreName": {"type": "string", "metadata": {"description":
      "Name of an ACR-backed Artifact Store, deployed under the publisher."}}, "saArtifactStoreName":
      {"type": "string", "metadata": {"description": "Name of a Storage Account-backed
      Artifact Store, deployed under the publisher."}}, "nfDefinitionGroup": {"type":
      "string", "metadata": {"description": "Name of a Network Function Definition
      Group"}}}, "resources": [{"type": "Microsoft.HybridNetwork/publishers", "apiVersion":
      "2023-09-01", "name": "[parameters(''publisherName'')]", "location": "[parameters(''location'')]",
      "properties": {"scope": "Private"}}, {"type": "Microsoft.HybridNetwork/publishers/artifactStores",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      parameters(''acrArtifactStoreName''))]", "location": "[parameters(''location'')]",
      "properties": {"storeType": "AzureContainerRegistry"}, "dependsOn": ["[resourceId(''Microsoft.HybridNetwork/publishers'',
      parameters(''publisherName''))]"]}, {"type": "Microsoft.HybridNetwork/publishers/artifactStores",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      parameters(''saArtifactStoreName''))]", "location": "[parameters(''location'')]",
      "properties": {"storeType": "AzureStorageAccount"}, "dependsOn": ["[resourceId(''Microsoft.HybridNetwork/publishers'',
      parameters(''publisherName''))]"]}, {"type": "Microsoft.HybridNetwork/publishers/networkFunctionDefinitionGroups",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      parameters(''nfDefinitionGroup''))]", "location": "[parameters(''location'')]",
      "dependsOn": ["[resourceId(''Microsoft.HybridNetwork/publishers'', parameters(''publisherName''))]"]}]},
      "parameters": {"location": {"value": "uksouth"}, "publisherName": {"value":
      "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName": {"value": "ubuntu-acr"},
      "nfDefinitionGroup": {"value": "ubuntu-vm"}, "saArtifactStoreName": {"value":
      "ubuntu-blob-store"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '2480'
      Content-Type:
      - application/json
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/validate?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715723822",
        "name": "AOSM_CLI_deployment_1715723822", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "330068761100729304", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "saArtifactStoreName": {"type":
        "String", "value": "ubuntu-blob-store"}, "nfDefinitionGroup": {"type": "String",
        "value": "ubuntu-vm"}}, "mode": "Incremental", "provisioningState": "Succeeded",
        "timestamp": "0001-01-01T00:00:00Z", "duration": "PT0S", "correlationId":
        "b1439407-d47d-4e0c-86ca-912d8165c90a", "providers": [{"namespace": "Microsoft.HybridNetwork",
        "resourceTypes": [{"resourceType": "publishers", "locations": ["uksouth"]},
        {"resourceType": "publishers/artifactStores", "locations": ["uksouth"]}, {"resourceType":
        "publishers/networkFunctionDefinitionGroups", "locations": ["uksouth"]}]}],
        "dependencies": [{"dependsOn": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr",
        "resourceType": "Microsoft.HybridNetwork/publishers/artifactStores", "resourceName":
        "automated-cli-tests-ubuntu-publisher/ubuntu-acr"}, {"dependsOn": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-blob-store",
        "resourceType": "Microsoft.HybridNetwork/publishers/artifactStores", "resourceName":
        "automated-cli-tests-ubuntu-publisher/ubuntu-blob-store"}, {"dependsOn": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkFunctionDefinitionGroups/ubuntu-vm",
        "resourceType": "Microsoft.HybridNetwork/publishers/networkFunctionDefinitionGroups",
        "resourceName": "automated-cli-tests-ubuntu-publisher/ubuntu-vm"}], "validatedResources":
        [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-blob-store"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkFunctionDefinitionGroups/ubuntu-vm"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '4027'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 21:57:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: FA67EC5F6CDB4F81A0D3D82A803F0B5B Ref B: CO6AA3150218009 Ref C: 2024-05-14T21:57:02Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "330068761100729304"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of a publisher, expected to be in the resource group where you deploy
      the template"}}, "acrArtifactStoreName": {"type": "string", "metadata": {"description":
      "Name of an ACR-backed Artifact Store, deployed under the publisher."}}, "saArtifactStoreName":
      {"type": "string", "metadata": {"description": "Name of a Storage Account-backed
      Artifact Store, deployed under the publisher."}}, "nfDefinitionGroup": {"type":
      "string", "metadata": {"description": "Name of a Network Function Definition
      Group"}}}, "resources": [{"type": "Microsoft.HybridNetwork/publishers", "apiVersion":
      "2023-09-01", "name": "[parameters(''publisherName'')]", "location": "[parameters(''location'')]",
      "properties": {"scope": "Private"}}, {"type": "Microsoft.HybridNetwork/publishers/artifactStores",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      parameters(''acrArtifactStoreName''))]", "location": "[parameters(''location'')]",
      "properties": {"storeType": "AzureContainerRegistry"}, "dependsOn": ["[resourceId(''Microsoft.HybridNetwork/publishers'',
      parameters(''publisherName''))]"]}, {"type": "Microsoft.HybridNetwork/publishers/artifactStores",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      parameters(''saArtifactStoreName''))]", "location": "[parameters(''location'')]",
      "properties": {"storeType": "AzureStorageAccount"}, "dependsOn": ["[resourceId(''Microsoft.HybridNetwork/publishers'',
      parameters(''publisherName''))]"]}, {"type": "Microsoft.HybridNetwork/publishers/networkFunctionDefinitionGroups",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      parameters(''nfDefinitionGroup''))]", "location": "[parameters(''location'')]",
      "dependsOn": ["[resourceId(''Microsoft.HybridNetwork/publishers'', parameters(''publisherName''))]"]}]},
      "parameters": {"location": {"value": "uksouth"}, "publisherName": {"value":
      "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName": {"value": "ubuntu-acr"},
      "nfDefinitionGroup": {"value": "ubuntu-vm"}, "saArtifactStoreName": {"value":
      "ubuntu-blob-store"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '2480'
      Content-Type:
      - application/json
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715723822",
        "name": "AOSM_CLI_deployment_1715723822", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "330068761100729304", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "saArtifactStoreName": {"type":
        "String", "value": "ubuntu-blob-store"}, "nfDefinitionGroup": {"type": "String",
        "value": "ubuntu-vm"}}, "mode": "Incremental", "provisioningState": "Accepted",
        "timestamp": "2024-05-14T21:57:09.9412149Z", "duration": "PT0.0019342S", "correlationId":
        "15e9cc62-3453-4ee6-b594-6faab909e3de", "providers": [{"namespace": "Microsoft.HybridNetwork",
        "resourceTypes": [{"resourceType": "publishers", "locations": ["uksouth"]},
        {"resourceType": "publishers/artifactStores", "locations": ["uksouth"]}, {"resourceType":
        "publishers/networkFunctionDefinitionGroups", "locations": ["uksouth"]}]}],
        "dependencies": [{"dependsOn": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr",
        "resourceType": "Microsoft.HybridNetwork/publishers/artifactStores", "resourceName":
        "automated-cli-tests-ubuntu-publisher/ubuntu-acr"}, {"dependsOn": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-blob-store",
        "resourceType": "Microsoft.HybridNetwork/publishers/artifactStores", "resourceName":
        "automated-cli-tests-ubuntu-publisher/ubuntu-blob-store"}, {"dependsOn": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkFunctionDefinitionGroups/ubuntu-vm",
        "resourceType": "Microsoft.HybridNetwork/publishers/networkFunctionDefinitionGroups",
        "resourceName": "automated-cli-tests-ubuntu-publisher/ubuntu-vm"}]}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715723822/operationStatuses/08584858830578778685?api-version=2022-09-01
      cache-control:
      - no-cache
      content-length:
      - '3181'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 21:57:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: F8BE88F1C21E4000BB2C049A6588AC05 Ref B: CO6AA3150218023 Ref C: 2024-05-14T21:57:05Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858830578778685?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 21:57:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1987023B5665420A81952FDE4D161B8D Ref B: CO6AA3150218011 Ref C: 2024-05-14T21:57:11Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858830578778685?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 21:57:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: CD9E867018C94C00996BEE5B1840182F Ref B: CO6AA3150219031 Ref C: 2024-05-14T21:57:42Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858830578778685?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 21:58:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: F191B8A1874A46258E6C87C4D351DA47 Ref B: CO6AA3150220029 Ref C: 2024-05-14T21:58:13Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858830578778685?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 21:58:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 193669234578426BB90CE0FFCF7603F7 Ref B: CO6AA3150219029 Ref C: 2024-05-14T21:58:43Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858830578778685?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 21:59:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B898CD902A09410B825D24823F83856E Ref B: CO6AA3150219053 Ref C: 2024-05-14T21:59:14Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858830578778685?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 21:59:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 8864E90023444FBCBFB4975E82A6AF08 Ref B: CO6AA3150218011 Ref C: 2024-05-14T21:59:45Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858830578778685?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:00:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 745CF53C9FE94BF48D3EBD29DF712299 Ref B: CO6AA3150220047 Ref C: 2024-05-14T22:00:16Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858830578778685?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:00:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1DC9F36D35D4432A876097AFCDFB96C4 Ref B: CO6AA3150219027 Ref C: 2024-05-14T22:00:47Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858830578778685?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '23'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:01:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 09351557A3C64D4CA8FABFD4BC0B311F Ref B: CO6AA3150217049 Ref C: 2024-05-14T22:01:18Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715723822",
        "name": "AOSM_CLI_deployment_1715723822", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "330068761100729304", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "saArtifactStoreName": {"type":
        "String", "value": "ubuntu-blob-store"}, "nfDefinitionGroup": {"type": "String",
        "value": "ubuntu-vm"}}, "mode": "Incremental", "provisioningState": "Succeeded",
        "timestamp": "2024-05-14T22:01:08.2906493Z", "duration": "PT3M58.3513686S",
        "correlationId": "15e9cc62-3453-4ee6-b594-6faab909e3de", "providers": [{"namespace":
        "Microsoft.HybridNetwork", "resourceTypes": [{"resourceType": "publishers",
        "locations": ["uksouth"]}, {"resourceType": "publishers/artifactStores", "locations":
        ["uksouth"]}, {"resourceType": "publishers/networkFunctionDefinitionGroups",
        "locations": ["uksouth"]}]}], "dependencies": [{"dependsOn": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr",
        "resourceType": "Microsoft.HybridNetwork/publishers/artifactStores", "resourceName":
        "automated-cli-tests-ubuntu-publisher/ubuntu-acr"}, {"dependsOn": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-blob-store",
        "resourceType": "Microsoft.HybridNetwork/publishers/artifactStores", "resourceName":
        "automated-cli-tests-ubuntu-publisher/ubuntu-blob-store"}, {"dependsOn": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkFunctionDefinitionGroups/ubuntu-vm",
        "resourceType": "Microsoft.HybridNetwork/publishers/networkFunctionDefinitionGroups",
        "resourceName": "automated-cli-tests-ubuntu-publisher/ubuntu-vm"}], "outputResources":
        [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-blob-store"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkFunctionDefinitionGroups/ubuntu-vm"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '4043'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:01:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 6E2A7D55324149CCA2838355A3B0D10F Ref B: CO6AA3150219031 Ref C: 2024-05-14T22:01:18Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0?api-version=2023-09-01
  response:
    body:
      string: '{"error": {"code": "ResourceNotFound", "message": "The Resource ''Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0''
        under resource group ''cli_test_vnf_nsd_000001'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '343'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:01:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
      x-msedge-ref:
      - 'Ref A: 4D09A4E50D564E12BE1D81A86E8E3206 Ref B: CO6AA3150220017 Ref C: 2024-05-14T22:01:19Z'
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0?api-version=2023-09-01
  response:
    body:
      string: '{"error": {"code": "ResourceNotFound", "message": "The Resource ''Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0''
        under resource group ''cli_test_vnf_nsd_000001'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '349'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:01:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
      x-msedge-ref:
      - 'Ref A: 196AE3283F5241C0AE63D73ECAC43D06 Ref B: CO6AA3150218047 Ref C: 2024-05-14T22:01:19Z'
    status:
      code: 404
      message: Not Found
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "13033189923379786498"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "saArtifactStoreName": {"type": "string", "metadata": {"description":
      "Name of an existing Storage Account-backed Artifact Store, deployed under the
      publisher."}}, "acrManifestName": {"type": "string", "metadata": {"description":
      "Name of the manifest to deploy for the ACR-backed Artifact Store"}}, "saManifestName":
      {"type": "string", "metadata": {"description": "Name of the manifest to deploy
      for the Storage Account-backed Artifact Store"}}}, "resources": [{"type": "Microsoft.HybridNetwork/publishers/artifactStores/artifactManifests",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''acrArtifactStoreName''), parameters(''acrManifestName''))]", "location":
      "[parameters(''location'')]", "properties": {"artifacts": [{"artifactName":
      "automated-cli-tests-artifact", "artifactType": "ArmTemplate", "artifactVersion":
      "1.0.0"}]}}, {"type": "Microsoft.HybridNetwork/publishers/artifactStores/artifactManifests",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''saArtifactStoreName''), parameters(''saManifestName''))]", "location":
      "[parameters(''location'')]", "properties": {"artifacts": [{"artifactName":
      "automated-cli-tests-vhd", "artifactType": "VhdImageFile", "artifactVersion":
      "1-0-0"}]}}]}, "parameters": {"location": {"value": "uksouth"}, "publisherName":
      {"value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName": {"value":
      "ubuntu-acr"}, "acrManifestName": {"value": "ubuntu-vm-acr-manifest-1-0-0"},
      "saArtifactStoreName": {"value": "ubuntu-blob-store"}, "saManifestName": {"value":
      "ubuntu-vm-sa-manifest-1-0-0"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '2300'
      Content-Type:
      - application/json
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/validate?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724083",
        "name": "AOSM_CLI_deployment_1715724083", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "13033189923379786498", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "saArtifactStoreName": {"type":
        "String", "value": "ubuntu-blob-store"}, "acrManifestName": {"type": "String",
        "value": "ubuntu-vm-acr-manifest-1-0-0"}, "saManifestName": {"type": "String",
        "value": "ubuntu-vm-sa-manifest-1-0-0"}}, "mode": "Incremental", "provisioningState":
        "Succeeded", "timestamp": "0001-01-01T00:00:00Z", "duration": "PT0S", "correlationId":
        "435b45ca-7c47-4851-ab0c-6adc109c7318", "providers": [{"namespace": "Microsoft.HybridNetwork",
        "resourceTypes": [{"resourceType": "publishers/artifactStores/artifactManifests",
        "locations": ["uksouth"]}]}], "dependencies": [], "validatedResources": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1668'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:01:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: A87F2992BFD84E8197DBAF1B459CFC27 Ref B: CO6AA3150219053 Ref C: 2024-05-14T22:01:22Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "13033189923379786498"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "saArtifactStoreName": {"type": "string", "metadata": {"description":
      "Name of an existing Storage Account-backed Artifact Store, deployed under the
      publisher."}}, "acrManifestName": {"type": "string", "metadata": {"description":
      "Name of the manifest to deploy for the ACR-backed Artifact Store"}}, "saManifestName":
      {"type": "string", "metadata": {"description": "Name of the manifest to deploy
      for the Storage Account-backed Artifact Store"}}}, "resources": [{"type": "Microsoft.HybridNetwork/publishers/artifactStores/artifactManifests",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''acrArtifactStoreName''), parameters(''acrManifestName''))]", "location":
      "[parameters(''location'')]", "properties": {"artifacts": [{"artifactName":
      "automated-cli-tests-artifact", "artifactType": "ArmTemplate", "artifactVersion":
      "1.0.0"}]}}, {"type": "Microsoft.HybridNetwork/publishers/artifactStores/artifactManifests",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''saArtifactStoreName''), parameters(''saManifestName''))]", "location":
      "[parameters(''location'')]", "properties": {"artifacts": [{"artifactName":
      "automated-cli-tests-vhd", "artifactType": "VhdImageFile", "artifactVersion":
      "1-0-0"}]}}]}, "parameters": {"location": {"value": "uksouth"}, "publisherName":
      {"value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName": {"value":
      "ubuntu-acr"}, "acrManifestName": {"value": "ubuntu-vm-acr-manifest-1-0-0"},
      "saArtifactStoreName": {"value": "ubuntu-blob-store"}, "saManifestName": {"value":
      "ubuntu-vm-sa-manifest-1-0-0"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '2300'
      Content-Type:
      - application/json
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724083",
        "name": "AOSM_CLI_deployment_1715724083", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "13033189923379786498", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "saArtifactStoreName": {"type":
        "String", "value": "ubuntu-blob-store"}, "acrManifestName": {"type": "String",
        "value": "ubuntu-vm-acr-manifest-1-0-0"}, "saManifestName": {"type": "String",
        "value": "ubuntu-vm-sa-manifest-1-0-0"}}, "mode": "Incremental", "provisioningState":
        "Accepted", "timestamp": "2024-05-14T22:01:29.2149352Z", "duration": "PT0.0001415S",
        "correlationId": "e744f85c-34ff-4076-bf7f-84b02e539dbd", "providers": [{"namespace":
        "Microsoft.HybridNetwork", "resourceTypes": [{"resourceType": "publishers/artifactStores/artifactManifests",
        "locations": ["uksouth"]}]}], "dependencies": []}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724083/operationStatuses/08584858827984761004?api-version=2022-09-01
      cache-control:
      - no-cache
      content-length:
      - '1139'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:01:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 959990CA272E4DFC8EEB3AADF44D38F6 Ref B: CO6AA3150220029 Ref C: 2024-05-14T22:01:25Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858827984761004?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:01:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 577F8DC3C44E47AC81D5934BB542DBF6 Ref B: CO6AA3150219017 Ref C: 2024-05-14T22:01:30Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858827984761004?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:02:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 814C79E2562F434E94B8B7AF80241833 Ref B: CO6AA3150217047 Ref C: 2024-05-14T22:02:01Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858827984761004?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:02:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 467E0E43540F41AD984CDD3A6529D6B2 Ref B: CO6AA3150217037 Ref C: 2024-05-14T22:02:31Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858827984761004?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '23'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B3AC1C1FE3A94D06871BE2213561E3BA Ref B: CO6AA3150217011 Ref C: 2024-05-14T22:03:02Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724083",
        "name": "AOSM_CLI_deployment_1715724083", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "13033189923379786498", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "saArtifactStoreName": {"type":
        "String", "value": "ubuntu-blob-store"}, "acrManifestName": {"type": "String",
        "value": "ubuntu-vm-acr-manifest-1-0-0"}, "saManifestName": {"type": "String",
        "value": "ubuntu-vm-sa-manifest-1-0-0"}}, "mode": "Incremental", "provisioningState":
        "Succeeded", "timestamp": "2024-05-14T22:02:59.9727632Z", "duration": "PT1M30.7579695S",
        "correlationId": "e744f85c-34ff-4076-bf7f-84b02e539dbd", "providers": [{"namespace":
        "Microsoft.HybridNetwork", "resourceTypes": [{"resourceType": "publishers/artifactStores/artifactManifests",
        "locations": ["uksouth"]}]}], "dependencies": [], "outputResources": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1684'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: C416405335CB460A9D46B7A217D0CC8D Ref B: CO6AA3150219021 Ref C: 2024-05-14T22:03:03Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-vm-acr-manifest-1-0-0/listCredential?api-version=2023-09-01
  response:
    body:
      string: '{"username": "ubuntu-vm-acr-manifest-1-0-0", "acrToken": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
        "acrServerUrl": "https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io",
        "repositories": ["automated-cli-tests-artifact"], "expiry": "2024-05-15T22:03:09.8367272+00:00",
        "credentialType": "AzureContainerRegistryScopedToken"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '353'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02682.2890
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 8209BDDBFF9E4D95977A683929F6D356 Ref B: CO6AA3150217021 Ref C: 2024-05-14T22:03:04Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.31.0
    method: POST
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/automated-cli-tests-artifact/blobs/uploads/
  response:
    body:
      string: '{"errors": [{"code": "UNAUTHORIZED", "message": "authentication required,
        visit https://aka.ms/acr/authorization for more information.", "detail": [{"Type":
        "repository", "Name": "automated-cli-tests-artifact", "Action": "pull"}, {"Type":
        "repository", "Name": "automated-cli-tests-artifact", "Action": "push"}]}]}'
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '314'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:11 GMT
      docker-distribution-api-version:
      - registry/2.0
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer realm="https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/oauth2/token",service="automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io",scope="repository:automated-cli-tests-artifact:pull,push"
      x-content-type-options:
      - nosniff
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Service:
      - automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io
      User-Agent:
      - oras-py
    method: GET
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/oauth2/token?service=automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io&scope=repository%3Aautomated-cli-tests-artifact%3Apull%2Cpush
  response:
    body:
      string: '{"access_token": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}'
    headers:
      connection:
      - keep-alive
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:11 GMT
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-ms-ratelimit-remaining-calls-per-second:
      - '333.316667'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.31.0
    method: POST
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/automated-cli-tests-artifact/blobs/uploads/
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:03:12 GMT
      docker-distribution-api-version:
      - registry/2.0
      docker-upload-uuid:
      - 7df11f01-8993-4fa3-8345-68db360991f5
      location:
      - /v2/automated-cli-tests-artifact/blobs/uploads/7df11f01-8993-4fa3-8345-68db360991f5?_nouploadcache=false&_state=5pGohg6cMG1UL0OsGV97OI0DeGcM7cArZ2-H_SF8o-17Ik5hbWUiOiJhdXRvbWF0ZWQtY2xpLXRlc3RzLWFydGlmYWN0IiwiVVVJRCI6IjdkZjExZjAxLTg5OTMtNGZhMy04MzQ1LTY4ZGIzNjA5OTFmNSIsIk9mZnNldCI6MCwiU3RhcnRlZEF0IjoiMjAyNC0wNS0xNFQyMjowMzoxMi4yNjg2MDIxNzVaIn0%3D
      range:
      - 0-0
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: "{\n  \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\n
      \ \"contentVersion\": \"1.0.0.0\",\n  \"metadata\": {\n    \"_generator\": {\n
      \     \"name\": \"bicep\",\n      \"version\": \"0.8.9.13224\",\n      \"templateHash\":
      \"14979664264804385741\"\n    }\n  },\n  \"parameters\": {\n    \"location\":
      {\n      \"type\": \"string\",\n      \"defaultValue\": \"[resourceGroup().location]\"\n
      \   },\n    \"subnetName\": {\n      \"type\": \"string\"\n    },\n    \"ubuntuVmName\":
      {\n      \"type\": \"string\",\n      \"defaultValue\": \"ubuntu-vm\"\n    },\n
      \   \"virtualNetworkId\": {\n      \"type\": \"string\"\n    },\n    \"sshPublicKeyAdmin\":
      {\n      \"type\": \"string\"\n    },\n    \"imageName\": {\n      \"type\":
      \"string\"\n    }\n  },\n  \"variables\": {\n    \"imageResourceGroup\": \"[resourceGroup().name]\",\n
      \   \"subscriptionId\": \"[subscription().subscriptionId]\",\n    \"vmSizeSku\":
      \"Standard_D2s_v3\"\n  },\n  \"resources\": [\n    {\n      \"type\": \"Microsoft.Network/networkInterfaces\",\n
      \     \"apiVersion\": \"2021-05-01\",\n      \"name\": \"[format('{0}_nic',
      parameters('ubuntuVmName'))]\",\n      \"location\": \"[parameters('location')]\",\n
      \     \"properties\": {\n        \"ipConfigurations\": [\n          {\n            \"name\":
      \"ipconfig1\",\n            \"properties\": {\n              \"subnet\": {\n
      \               \"id\": \"[format('{0}/subnets/{1}', parameters('virtualNetworkId'),
      parameters('subnetName'))]\"\n              },\n              \"primary\": true,\n
      \             \"privateIPAddressVersion\": \"IPv4\"\n            }\n          }\n
      \       ]\n      }\n    },\n    {\n      \"type\": \"Microsoft.Compute/virtualMachines\",\n
      \     \"apiVersion\": \"2021-07-01\",\n      \"name\": \"[parameters('ubuntuVmName')]\",\n
      \     \"location\": \"[parameters('location')]\",\n      \"properties\": {\n
      \       \"hardwareProfile\": {\n          \"vmSize\": \"[variables('vmSizeSku')]\"\n
      \       },\n        \"storageProfile\": {\n          \"imageReference\": {\n
      \           \"id\": \"[extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}',
      variables('subscriptionId'), variables('imageResourceGroup')), 'Microsoft.Compute/images',
      parameters('imageName'))]\"\n          },\n          \"osDisk\": {\n            \"osType\":
      \"Linux\",\n            \"name\": \"[format('{0}_disk', parameters('ubuntuVmName'))]\",\n
      \           \"createOption\": \"FromImage\",\n            \"caching\": \"ReadWrite\",\n
      \           \"writeAcceleratorEnabled\": false,\n            \"managedDisk\":
      \"[json('{\\\"storageAccountType\\\": \\\"Premium_LRS\\\"}')]\",\n            \"deleteOption\":
      \"Delete\",\n            \"diskSizeGB\": 30\n          }\n        },\n        \"osProfile\":
      {\n          \"computerName\": \"[parameters('ubuntuVmName')]\",\n          \"adminUsername\":
      \"azureuser\",\n          \"linuxConfiguration\": {\n            \"disablePasswordAuthentication\":
      true,\n            \"ssh\": {\n              \"publicKeys\": [\n                {\n
      \                 \"path\": \"/home/azureuser/.ssh/authorized_keys\",\n                  \"keyData\":
      \"[parameters('sshPublicKeyAdmin')]\"\n                }\n              ]\n
      \           },\n            \"provisionVMAgent\": true,\n            \"patchSettings\":
      {\n              \"patchMode\": \"ImageDefault\",\n              \"assessmentMode\":
      \"ImageDefault\"\n            }\n          },\n          \"secrets\": [],\n
      \         \"allowExtensionOperations\": true\n        },\n        \"networkProfile\":
      {\n          \"networkInterfaces\": [\n            {\n              \"id\":
      \"[resourceId('Microsoft.Network/networkInterfaces', format('{0}_nic', parameters('ubuntuVmName')))]\"\n
      \           }\n          ]\n        }\n      },\n      \"dependsOn\": [\n        \"[resourceId('Microsoft.Network/networkInterfaces',
      format('{0}_nic', parameters('ubuntuVmName')))]\"\n      ]\n    }\n  ]\n}"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '3591'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.31.0
    method: PUT
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/automated-cli-tests-artifact/blobs/uploads/7df11f01-8993-4fa3-8345-68db360991f5?_nouploadcache=false&_state=5pGohg6cMG1UL0OsGV97OI0DeGcM7cArZ2-H_SF8o-17Ik5hbWUiOiJhdXRvbWF0ZWQtY2xpLXRlc3RzLWFydGlmYWN0IiwiVVVJRCI6IjdkZjExZjAxLTg5OTMtNGZhMy04MzQ1LTY4ZGIzNjA5OTFmNSIsIk9mZnNldCI6MCwiU3RhcnRlZEF0IjoiMjAyNC0wNS0xNFQyMjowMzoxMi4yNjg2MDIxNzVaIn0%3D&digest=sha256%3Ae71bf56543dc33dc8e550a0c574efe9a4875754a4ddf74347e448dec2462798b
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:03:13 GMT
      docker-content-digest:
      - sha256:e71bf56543dc33dc8e550a0c574efe9a4875754a4ddf74347e448dec2462798b
      docker-distribution-api-version:
      - registry/2.0
      location:
      - /v2/automated-cli-tests-artifact/blobs/sha256:e71bf56543dc33dc8e550a0c574efe9a4875754a4ddf74347e448dec2462798b
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.31.0
    method: POST
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/automated-cli-tests-artifact/blobs/uploads/
  response:
    body:
      string: '{"errors": [{"code": "UNAUTHORIZED", "message": "authentication required,
        visit https://aka.ms/acr/authorization for more information.", "detail": [{"Type":
        "repository", "Name": "automated-cli-tests-artifact", "Action": "pull"}, {"Type":
        "repository", "Name": "automated-cli-tests-artifact", "Action": "push"}]}]}'
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '314'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:13 GMT
      docker-distribution-api-version:
      - registry/2.0
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer realm="https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/oauth2/token",service="automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io",scope="repository:automated-cli-tests-artifact:pull,push"
      x-content-type-options:
      - nosniff
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Service:
      - automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io
      User-Agent:
      - oras-py
    method: GET
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/oauth2/token?service=automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io&scope=repository%3Aautomated-cli-tests-artifact%3Apull%2Cpush
  response:
    body:
      string: '{"access_token": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}'
    headers:
      connection:
      - keep-alive
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:14 GMT
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-ms-ratelimit-remaining-calls-per-second:
      - '333.316667'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.31.0
    method: POST
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/automated-cli-tests-artifact/blobs/uploads/
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:03:14 GMT
      docker-distribution-api-version:
      - registry/2.0
      docker-upload-uuid:
      - 581fde51-45ef-4c3b-afef-c7f3b27cfa5a
      location:
      - /v2/automated-cli-tests-artifact/blobs/uploads/581fde51-45ef-4c3b-afef-c7f3b27cfa5a?_nouploadcache=false&_state=kjh2oJYMBJ39jxxCQOzq6ro-3Mo-cFIOyolJUFsCf1p7Ik5hbWUiOiJhdXRvbWF0ZWQtY2xpLXRlc3RzLWFydGlmYWN0IiwiVVVJRCI6IjU4MWZkZTUxLTQ1ZWYtNGMzYi1hZmVmLWM3ZjNiMjdjZmE1YSIsIk9mZnNldCI6MCwiU3RhcnRlZEF0IjoiMjAyNC0wNS0xNFQyMjowMzoxNC45Mzk0MDIwMjdaIn0%3D
      range:
      - 0-0
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: '{}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.31.0
    method: PUT
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/automated-cli-tests-artifact/blobs/uploads/581fde51-45ef-4c3b-afef-c7f3b27cfa5a?_nouploadcache=false&_state=kjh2oJYMBJ39jxxCQOzq6ro-3Mo-cFIOyolJUFsCf1p7Ik5hbWUiOiJhdXRvbWF0ZWQtY2xpLXRlc3RzLWFydGlmYWN0IiwiVVVJRCI6IjU4MWZkZTUxLTQ1ZWYtNGMzYi1hZmVmLWM3ZjNiMjdjZmE1YSIsIk9mZnNldCI6MCwiU3RhcnRlZEF0IjoiMjAyNC0wNS0xNFQyMjowMzoxNC45Mzk0MDIwMjdaIn0%3D&digest=sha256%3A44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:03:15 GMT
      docker-content-digest:
      - sha256:44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      docker-distribution-api-version:
      - registry/2.0
      location:
      - /v2/automated-cli-tests-artifact/blobs/sha256:44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: '{"schemaVersion": 2, "mediaType": "application/vnd.oci.image.manifest.v1+json",
      "config": {"mediaType": "application/vnd.unknown.config.v1+json", "size": 2,
      "digest": "sha256:44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a"},
      "layers": [{"mediaType": "application/vnd.oci.image.layer.v1.tar", "size": 3591,
      "digest": "sha256:e71bf56543dc33dc8e550a0c574efe9a4875754a4ddf74347e448dec2462798b",
      "annotations": {"org.opencontainers.image.title": "ubuntu_template.json"}}],
      "annotations": {}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '504'
      Content-Type:
      - application/vnd.oci.image.manifest.v1+json
      User-Agent:
      - python-requests/2.31.0
    method: PUT
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/automated-cli-tests-artifact/manifests/1.0.0
  response:
    body:
      string: '{"errors": [{"code": "UNAUTHORIZED", "message": "authentication required,
        visit https://aka.ms/acr/authorization for more information.", "detail": [{"Type":
        "repository", "Name": "automated-cli-tests-artifact", "Action": "pull"}, {"Type":
        "repository", "Name": "automated-cli-tests-artifact", "Action": "push"}]}]}'
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '314'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:16 GMT
      docker-distribution-api-version:
      - registry/2.0
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer realm="https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/oauth2/token",service="automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io",scope="repository:automated-cli-tests-artifact:pull,push"
      x-content-type-options:
      - nosniff
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Service:
      - automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io
      User-Agent:
      - oras-py
    method: GET
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/oauth2/token?service=automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io&scope=repository%3Aautomated-cli-tests-artifact%3Apull%2Cpush
  response:
    body:
      string: '{"access_token": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}'
    headers:
      connection:
      - keep-alive
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:16 GMT
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-ms-ratelimit-remaining-calls-per-second:
      - '333.316667'
    status:
      code: 200
      message: OK
- request:
    body: '{"schemaVersion": 2, "mediaType": "application/vnd.oci.image.manifest.v1+json",
      "config": {"mediaType": "application/vnd.unknown.config.v1+json", "size": 2,
      "digest": "sha256:44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a"},
      "layers": [{"mediaType": "application/vnd.oci.image.layer.v1.tar", "size": 3591,
      "digest": "sha256:e71bf56543dc33dc8e550a0c574efe9a4875754a4ddf74347e448dec2462798b",
      "annotations": {"org.opencontainers.image.title": "ubuntu_template.json"}}],
      "annotations": {}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '504'
      Content-Type:
      - application/vnd.oci.image.manifest.v1+json
      User-Agent:
      - python-requests/2.31.0
    method: PUT
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/automated-cli-tests-artifact/manifests/1.0.0
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:03:17 GMT
      docker-content-digest:
      - sha256:17d25d33c38f40fda4c9e45a0cec218b3f7f75e9c680ed8dd2a12ed0abdbc36b
      docker-distribution-api-version:
      - registry/2.0
      location:
      - /v2/automated-cli-tests-artifact/manifests/sha256:17d25d33c38f40fda4c9e45a0cec218b3f7f75e9c680ed8dd2a12ed0abdbc36b
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-blob-store/artifactManifests/ubuntu-vm-sa-manifest-1-0-0/listCredential?api-version=2023-09-01
  response:
    body:
      string: '{"storageAccountId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/ubuntu-blob-store-HostedResources-41ADBFD9/providers/Microsoft.Storage/storageAccounts/41adbfd9ubuntublobstore4",
        "containerCredentials": [{"containerName": "automatedclitestsvhd-1-0-0", "containerSasUri":
        "https://xxxxxxxxxxxxxxx.blob.core.windows.net/automatedclitestsvhd-1-0-0?sv=2021-08-06&si=StorageAccountAccessPolicy&sr=xxxxxxxxxxxxxxxxxxxx"}],
        "expiry": "2024-05-15T22:03:22.9503238+00:00", "credentialType": "AzureStorageAccountToken"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '533'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02682.2890
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: FCF27F18B3F6404C9A45B41323179BF7 Ref B: CO6AA3150220031 Ref C: 2024-05-14T22:03:17Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/xml
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - azsdk-python-storage-blob/12.16.0 Python/3.10.12 (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
      x-ms-blob-content-length:
      - '512'
      x-ms-blob-type:
      - PageBlob
      x-ms-date:
      - Tue, 14 May 2024 22:03:24 GMT
      x-ms-version:
      - '2022-11-02'
    method: PUT
    uri: https://xxxxxxxxxxxxxxx.blob.core.windows.net/automatedclitestsvhd-1-0-0/automatedclitests-1-0-0.vhd?sv=2021-08-06&si=StorageAccountAccessPolicy&sr=xxxxxxxxxxxxxxxxxxxx
  response:
    body:
      string: ''
    headers:
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:03:23 GMT
      etag:
      - '"0x8DC7461ACC01DC6"'
      last-modified:
      - Tue, 14 May 2024 22:03:23 GMT
      server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      x-ms-request-server-encrypted:
      - 'true'
      x-ms-version:
      - '2022-11-02'
    status:
      code: 201
      message: Created
- request:
    body: "61 38 6b 92 16 4b cc ac 6f d4 02 5c 6f 62 79 b9 \n8e 62 ae 07 02 1c dc
      73 5b 7a 51 e7 56 4e 4a b0 \n54 4a 93 2e 6b dd 3c b5 8b 60 fa 80 b1 80 1b 89
      \n1e 4d 7d 86 8e 25 76 58 24 8d 21 87 83 06 88 d6 \na4 fd 94 9c 66 b6 db ee
      92 46 f0 25 fc 84 bb f5 \n3f d9 49 28 ea 54 6a 2a 33 fa e0 47 eb 22 af 91 \nd4
      34 a6 d9 fe 58 cb 54 03 35 d6 45 40 96 4e f3 \n31 ea 78 20 45 e9 f2 3a de cb
      38 53 c0 9c b2 b7 \n12 9e 57 d9 f6 1b cb 20 23 8c 86 d3 40 da 84 c3 \n22 5b
      48 61 63 e2 5f 5f 43 6d 8f 41 fc ce c1 87 \n33 e1 e2 61 63 e2 5f 5"
    headers:
      Accept:
      - application/xml
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '512'
      Content-Type:
      - application/octet-stream
      If-Match:
      - '"0x8DC7461ACC01DC6"'
      User-Agent:
      - azsdk-python-storage-blob/12.16.0 Python/3.10.12 (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
      x-ms-date:
      - Tue, 14 May 2024 22:03:24 GMT
      x-ms-page-write:
      - update
      x-ms-range:
      - bytes=0-511
      x-ms-version:
      - '2022-11-02'
    method: PUT
    uri: https://xxxxxxxxxxxxxxx.blob.core.windows.net/automatedclitestsvhd-1-0-0/automatedclitests-1-0-0.vhd?comp=page&sv=2021-08-06&si=StorageAccountAccessPolicy&sr=xxxxxxxxxxxxxxxxxxxx
  response:
    body:
      string: ''
    headers:
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:03:24 GMT
      etag:
      - '"0x8DC7461AD49E85D"'
      last-modified:
      - Tue, 14 May 2024 22:03:24 GMT
      server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      x-ms-blob-sequence-number:
      - '0'
      x-ms-content-crc64:
      - iWvWqElPrJg=
      x-ms-request-server-encrypted:
      - 'true'
      x-ms-version:
      - '2022-11-02'
    status:
      code: 201
      message: Created
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "15824080055511440865"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "saArtifactStoreName": {"type": "string", "metadata": {"description":
      "Name of an existing Storage Account-backed Artifact Store, deployed under the
      publisher."}}, "nfDefinitionGroup": {"type": "string", "metadata": {"description":
      "Name of an existing Network Function Definition Group"}}, "nfDefinitionVersion":
      {"type": "string", "metadata": {"description": "The version of the NFDV you
      want to deploy, in format A.B.C"}}}, "variables": {"$fxv#0": {"$schema": "https://json-schema.org/draft-07/schema#",
      "title": "DeployParametersSchema", "type": "object", "properties": {"automated-cli-tests-artifact":
      {"type": "object", "properties": {"subnetName": {"type": "string"}, "virtualNetworkId":
      {"type": "string"}, "sshPublicKeyAdmin": {"type": "string"}}, "required": ["subnetName",
      "virtualNetworkId", "sshPublicKeyAdmin"]}}}, "$fxv#1": {"imageHyperVGeneration":
      "V1", "imageName": "ubuntu-vmImage"}, "$fxv#2": {"imageName": "ubuntu-vmImage",
      "subnetName": "{deployParameters.automated-cli-tests-artifact.subnetName}",
      "virtualNetworkId": "{deployParameters.automated-cli-tests-artifact.virtualNetworkId}",
      "sshPublicKeyAdmin": "{deployParameters.automated-cli-tests-artifact.sshPublicKeyAdmin}"}},
      "resources": [{"type": "Microsoft.HybridNetwork/publishers/networkFunctionDefinitionGroups/networkFunctionDefinitionVersions",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''nfDefinitionGroup''), parameters(''nfDefinitionVersion''))]", "location":
      "[parameters(''location'')]", "properties": {"deployParameters": "[string(variables(''$fxv#0''))]",
      "networkFunctionType": "VirtualNetworkFunction", "networkFunctionTemplate":
      {"nfviType": "AzureCore", "networkFunctionApplications": [{"artifactType": "VhdImageFile",
      "name": "automated-cli-tests-vhd", "dependsOnProfile": null, "artifactProfile":
      {"vhdArtifactProfile": {"vhdName": "automated-cli-tests-vhd", "vhdVersion":
      "1-0-0"}, "artifactStore": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/artifactStores'',
      parameters(''publisherName''), parameters(''saArtifactStoreName''))]"}}, "deployParametersMappingRuleProfile":
      {"vhdImageMappingRuleProfile": {"userConfiguration": "[string(variables(''$fxv#1''))]"},
      "applicationEnablement": "Enabled"}}, {"artifactType": "ArmTemplate", "name":
      "automated-cli-tests-artifact", "dependsOnProfile": null, "artifactProfile":
      {"templateArtifactProfile": {"templateName": "automated-cli-tests-artifact",
      "templateVersion": "1.0.0"}, "artifactStore": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/artifactStores'',
      parameters(''publisherName''), parameters(''acrArtifactStoreName''))]"}}, "deployParametersMappingRuleProfile":
      {"templateMappingRuleProfile": {"templateParameters": "[string(variables(''$fxv#2''))]"},
      "applicationEnablement": "Enabled"}}]}}}]}, "parameters": {"location": {"value":
      "uksouth"}, "publisherName": {"value": "automated-cli-tests-ubuntu-publisher"},
      "acrArtifactStoreName": {"value": "ubuntu-acr"}, "nfDefinitionGroup": {"value":
      "ubuntu-vm"}, "nfDefinitionVersion": {"value": "1.0.0"}, "saArtifactStoreName":
      {"value": "ubuntu-blob-store"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '3772'
      Content-Type:
      - application/json
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/validate?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724207",
        "name": "AOSM_CLI_deployment_1715724207", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "15824080055511440865", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "saArtifactStoreName": {"type":
        "String", "value": "ubuntu-blob-store"}, "nfDefinitionGroup": {"type": "String",
        "value": "ubuntu-vm"}, "nfDefinitionVersion": {"type": "String", "value":
        "1.0.0"}}, "mode": "Incremental", "provisioningState": "Succeeded", "timestamp":
        "0001-01-01T00:00:00Z", "duration": "PT0S", "correlationId": "981c5b8c-8337-41f9-8089-31793bbf80bc",
        "providers": [{"namespace": "Microsoft.HybridNetwork", "resourceTypes": [{"resourceType":
        "publishers/networkFunctionDefinitionGroups/networkFunctionDefinitionVersions",
        "locations": ["uksouth"]}]}], "dependencies": [], "validatedResources": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkFunctionDefinitionGroups/ubuntu-vm/networkFunctionDefinitionVersions/1.0.0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1413'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 2AB43FE9E0DD4228B8932A7019EA3971 Ref B: CO6AA3150219039 Ref C: 2024-05-14T22:03:27Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "15824080055511440865"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "saArtifactStoreName": {"type": "string", "metadata": {"description":
      "Name of an existing Storage Account-backed Artifact Store, deployed under the
      publisher."}}, "nfDefinitionGroup": {"type": "string", "metadata": {"description":
      "Name of an existing Network Function Definition Group"}}, "nfDefinitionVersion":
      {"type": "string", "metadata": {"description": "The version of the NFDV you
      want to deploy, in format A.B.C"}}}, "variables": {"$fxv#0": {"$schema": "https://json-schema.org/draft-07/schema#",
      "title": "DeployParametersSchema", "type": "object", "properties": {"automated-cli-tests-artifact":
      {"type": "object", "properties": {"subnetName": {"type": "string"}, "virtualNetworkId":
      {"type": "string"}, "sshPublicKeyAdmin": {"type": "string"}}, "required": ["subnetName",
      "virtualNetworkId", "sshPublicKeyAdmin"]}}}, "$fxv#1": {"imageHyperVGeneration":
      "V1", "imageName": "ubuntu-vmImage"}, "$fxv#2": {"imageName": "ubuntu-vmImage",
      "subnetName": "{deployParameters.automated-cli-tests-artifact.subnetName}",
      "virtualNetworkId": "{deployParameters.automated-cli-tests-artifact.virtualNetworkId}",
      "sshPublicKeyAdmin": "{deployParameters.automated-cli-tests-artifact.sshPublicKeyAdmin}"}},
      "resources": [{"type": "Microsoft.HybridNetwork/publishers/networkFunctionDefinitionGroups/networkFunctionDefinitionVersions",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''nfDefinitionGroup''), parameters(''nfDefinitionVersion''))]", "location":
      "[parameters(''location'')]", "properties": {"deployParameters": "[string(variables(''$fxv#0''))]",
      "networkFunctionType": "VirtualNetworkFunction", "networkFunctionTemplate":
      {"nfviType": "AzureCore", "networkFunctionApplications": [{"artifactType": "VhdImageFile",
      "name": "automated-cli-tests-vhd", "dependsOnProfile": null, "artifactProfile":
      {"vhdArtifactProfile": {"vhdName": "automated-cli-tests-vhd", "vhdVersion":
      "1-0-0"}, "artifactStore": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/artifactStores'',
      parameters(''publisherName''), parameters(''saArtifactStoreName''))]"}}, "deployParametersMappingRuleProfile":
      {"vhdImageMappingRuleProfile": {"userConfiguration": "[string(variables(''$fxv#1''))]"},
      "applicationEnablement": "Enabled"}}, {"artifactType": "ArmTemplate", "name":
      "automated-cli-tests-artifact", "dependsOnProfile": null, "artifactProfile":
      {"templateArtifactProfile": {"templateName": "automated-cli-tests-artifact",
      "templateVersion": "1.0.0"}, "artifactStore": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/artifactStores'',
      parameters(''publisherName''), parameters(''acrArtifactStoreName''))]"}}, "deployParametersMappingRuleProfile":
      {"templateMappingRuleProfile": {"templateParameters": "[string(variables(''$fxv#2''))]"},
      "applicationEnablement": "Enabled"}}]}}}]}, "parameters": {"location": {"value":
      "uksouth"}, "publisherName": {"value": "automated-cli-tests-ubuntu-publisher"},
      "acrArtifactStoreName": {"value": "ubuntu-acr"}, "nfDefinitionGroup": {"value":
      "ubuntu-vm"}, "nfDefinitionVersion": {"value": "1.0.0"}, "saArtifactStoreName":
      {"value": "ubuntu-blob-store"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      Content-Length:
      - '3772'
      Content-Type:
      - application/json
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724207",
        "name": "AOSM_CLI_deployment_1715724207", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "15824080055511440865", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "saArtifactStoreName": {"type":
        "String", "value": "ubuntu-blob-store"}, "nfDefinitionGroup": {"type": "String",
        "value": "ubuntu-vm"}, "nfDefinitionVersion": {"type": "String", "value":
        "1.0.0"}}, "mode": "Incremental", "provisioningState": "Accepted", "timestamp":
        "2024-05-14T22:03:35.4227518Z", "duration": "PT0.0002198S", "correlationId":
        "45c9e427-740a-4905-8bdf-69f320a7a5c2", "providers": [{"namespace": "Microsoft.HybridNetwork",
        "resourceTypes": [{"resourceType": "publishers/networkFunctionDefinitionGroups/networkFunctionDefinitionVersions",
        "locations": ["uksouth"]}]}], "dependencies": []}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724207/operationStatuses/08584858826722323935?api-version=2022-09-01
      cache-control:
      - no-cache
      content-length:
      - '1138'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: BCA9473B9583482784BA3922B63559A1 Ref B: CO6AA3150219017 Ref C: 2024-05-14T22:03:31Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858826722323935?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:03:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 5EB832D0E3594CFCA7C202D26B8BFE26 Ref B: CO6AA3150217011 Ref C: 2024-05-14T22:03:36Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858826722323935?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:04:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 5D9032EBDD8A4637982A538A8BC9FEB5 Ref B: CO6AA3150219023 Ref C: 2024-05-14T22:04:07Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858826722323935?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:04:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 173692422BE8499AA6E090A60CCFA5DF Ref B: CO6AA3150220047 Ref C: 2024-05-14T22:04:38Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858826722323935?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '23'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:05:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: DE19C6C79449466080716EA9D12ED8F1 Ref B: CO6AA3150218025 Ref C: 2024-05-14T22:05:09Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nfd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder --definition-type
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724207",
        "name": "AOSM_CLI_deployment_1715724207", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "15824080055511440865", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "saArtifactStoreName": {"type":
        "String", "value": "ubuntu-blob-store"}, "nfDefinitionGroup": {"type": "String",
        "value": "ubuntu-vm"}, "nfDefinitionVersion": {"type": "String", "value":
        "1.0.0"}}, "mode": "Incremental", "provisioningState": "Succeeded", "timestamp":
        "2024-05-14T22:05:02.9693543Z", "duration": "PT1M27.5468223S", "correlationId":
        "45c9e427-740a-4905-8bdf-69f320a7a5c2", "providers": [{"namespace": "Microsoft.HybridNetwork",
        "resourceTypes": [{"resourceType": "publishers/networkFunctionDefinitionGroups/networkFunctionDefinitionVersions",
        "locations": ["uksouth"]}]}], "dependencies": [], "outputResources": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkFunctionDefinitionGroups/ubuntu-vm/networkFunctionDefinitionVersions/1.0.0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1429'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:05:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: BFEBBDF659C743DBB14B62D415E6247A Ref B: CO6AA3150218009 Ref C: 2024-05-14T22:05:09Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd build
      Connection:
      - keep-alive
      ParameterSetName:
      - -f
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkFunctionDefinitionGroups/ubuntu-vm/networkFunctionDefinitionVersions/1.0.0?api-version=2023-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkFunctionDefinitionGroups/ubuntu-vm/networkFunctionDefinitionVersions/1.0.0",
        "name": "1.0.0", "type": "microsoft.hybridnetwork/publishers/networkfunctiondefinitiongroups/networkfunctiondefinitionversions",
        "location": "uksouth", "systemData": {"createdBy": "xxxxxxxxxxx@microsoft.com",
        "createdByType": "User", "createdAt": "2024-05-14T22:03:38.4358868Z", "lastModifiedBy":
        "xxxxxxxxxxx@microsoft.com", "lastModifiedByType": "User", "lastModifiedAt":
        "2024-05-14T22:03:38.4358868Z"}, "properties": {"networkFunctionTemplate":
        {"networkFunctionApplications": [{"artifactProfile": {"vhdArtifactProfile":
        {"vhdName": "automated-cli-tests-vhd", "vhdVersion": "1-0-0"}, "artifactStore":
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-blob-store"}},
        "deployParametersMappingRuleProfile": {"vhdImageMappingRuleProfile": {"userConfiguration":
        "{\"imageHyperVGeneration\":\"V1\",\"imageName\":\"ubuntu-vmImage\"}"}, "applicationEnablement":
        "Enabled"}, "artifactType": "VhdImageFile", "dependsOnProfile": null, "name":
        "automated-cli-tests-vhd"}, {"artifactProfile": {"templateArtifactProfile":
        {"templateName": "automated-cli-tests-artifact", "templateVersion": "1.0.0"},
        "artifactStore": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr"}},
        "deployParametersMappingRuleProfile": {"templateMappingRuleProfile": {"templateParameters":
        "{\"imageName\":\"ubuntu-vmImage\",\"subnetName\":\"{deployParameters.automated-cli-tests-artifact.subnetName}\",\"virtualNetworkId\":\"{deployParameters.automated-cli-tests-artifact.virtualNetworkId}\",\"sshPublicKeyAdmin\":\"{deployParameters.automated-cli-tests-artifact.sshPublicKeyAdmin}\"}"},
        "applicationEnablement": "Enabled"}, "artifactType": "ArmTemplate", "dependsOnProfile":
        null, "name": "automated-cli-tests-artifact"}], "nfviType": "AzureCore"},
        "versionState": "Preview", "description": null, "deployParameters": "{\"$schema\":\"https://json-schema.org/draft-07/schema#\",\"title\":\"DeployParametersSchema\",\"type\":\"object\",\"properties\":{\"automated-cli-tests-artifact\":{\"type\":\"object\",\"properties\":{\"subnetName\":{\"type\":\"string\"},\"virtualNetworkId\":{\"type\":\"string\"},\"sshPublicKeyAdmin\":{\"type\":\"string\"}},\"required\":[\"subnetName\",\"virtualNetworkId\",\"sshPublicKeyAdmin\"]}},\"required\":[\"automated-cli-tests-artifact\"]}",
        "networkFunctionType": "VirtualNetworkFunction", "provisioningState": "Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2893'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:05:10 GMT
      etag:
      - '"72011e36-0000-1100-0000-6643dfd10000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
      x-msedge-ref:
      - 'Ref A: CACDD8D0853F45D28208A9E52CD4AD9F Ref B: CO6AA3150219009 Ref C: 2024-05-14T22:05:10Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:05:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 37C4C87FF91C4E148FA33DA7AD51C872 Ref B: CO6AA3150218037 Ref C: 2024-05-14T22:05:11Z'
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher?api-version=2023-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "name": "automated-cli-tests-ubuntu-publisher", "type": "microsoft.hybridnetwork/publishers",
        "location": "uksouth", "systemData": {"createdBy": "xxxxxxxxxxx@microsoft.com",
        "createdByType": "User", "createdAt": "2024-05-14T21:57:12.870466Z", "lastModifiedBy":
        "xxxxxxxxxxx@microsoft.com", "lastModifiedByType": "User", "lastModifiedAt":
        "2024-05-14T21:57:12.870466Z"}, "properties": {"scope": "Private", "provisioningState":
        "Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '622'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:05:11 GMT
      etag:
      - '"df01bd03-0000-1100-0000-6643de540000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
      x-msedge-ref:
      - 'Ref A: E08F736F5CF94A17B2986388B8BFA859 Ref B: CO6AA3150220011 Ref C: 2024-05-14T22:05:11Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr?api-version=2023-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr",
        "name": "ubuntu-acr", "type": "microsoft.hybridnetwork/publishers/artifactstores",
        "location": "uksouth", "systemData": {"createdBy": "xxxxxxxxxxx@microsoft.com",
        "createdByType": "User", "createdAt": "2024-05-14T21:58:39.6173733Z", "lastModifiedBy":
        "xxxxxxxxxxx@microsoft.com", "lastModifiedByType": "Application", "lastModifiedAt":
        "2024-05-14T22:04:00.8281994Z"}, "properties": {"storeType": "AzureContainerRegistry",
        "replicationStrategy": "SingleReplication", "managedResourceGroupConfiguration":
        {"name": "ubuntu-acr-HostedResources-30772D9A", "location": "uksouth"}, "provisioningState":
        "Succeeded", "storageResourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/ubuntu-acr-HostedResources-30772D9A/providers/Microsoft.ContainerRegistry/registries/AutomatedCliTestsUbuntuPublisherUbuntuAc7b3939736a"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1045'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:05:12 GMT
      etag:
      - '"6000319e-0000-1000-0000-6643dfd00000"'
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-providerhub-traffic:
      - 'True'
      x-msedge-ref:
      - 'Ref A: 74277AD7A2414403B451023FD496D41C Ref B: CO6AA3150219023 Ref C: 2024-05-14T22:05:12Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkServiceDesignGroups/ubuntu?api-version=2023-09-01
  response:
    body:
      string: '{"error": {"code": "ResourceNotFound", "message": "The Resource ''Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkServiceDesignGroups/ubuntu''
        under resource group ''cli_test_vnf_nsd_000001'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '304'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:05:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
      x-msedge-ref:
      - 'Ref A: EBB9C8F0E5D84A35AD0E4FB2B22CB6E1 Ref B: CO6AA3150220031 Ref C: 2024-05-14T22:05:12Z'
    status:
      code: 404
      message: Not Found
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "7209447708351625668"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of a publisher, expected to be in the resource group where you deploy
      the template"}}, "acrArtifactStoreName": {"type": "string", "metadata": {"description":
      "Name of an ACR-backed Artifact Store, deployed under the publisher."}}, "nsDesignGroup":
      {"type": "string", "metadata": {"description": "Name of an Network Service Design
      Group"}}}, "resources": [{"type": "Microsoft.HybridNetwork/publishers", "apiVersion":
      "2023-09-01", "name": "[parameters(''publisherName'')]", "location": "[parameters(''location'')]",
      "properties": {"scope": "Private"}}, {"type": "Microsoft.HybridNetwork/publishers/artifactStores",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      parameters(''acrArtifactStoreName''))]", "location": "[parameters(''location'')]",
      "properties": {"storeType": "AzureContainerRegistry"}, "dependsOn": ["[resourceId(''Microsoft.HybridNetwork/publishers'',
      parameters(''publisherName''))]"]}, {"type": "Microsoft.HybridNetwork/publishers/networkServiceDesignGroups",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      parameters(''nsDesignGroup''))]", "location": "[parameters(''location'')]",
      "dependsOn": ["[resourceId(''Microsoft.HybridNetwork/publishers'', parameters(''publisherName''))]"]}]},
      "parameters": {"location": {"value": "uksouth"}, "publisherName": {"value":
      "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName": {"value": "ubuntu-acr"},
      "nsDesignGroup": {"value": "ubuntu"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '1872'
      Content-Type:
      - application/json
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/validate?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724316",
        "name": "AOSM_CLI_deployment_1715724316", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "7209447708351625668", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "nsDesignGroup": {"type": "String",
        "value": "ubuntu"}}, "mode": "Incremental", "provisioningState": "Succeeded",
        "timestamp": "0001-01-01T00:00:00Z", "duration": "PT0S", "correlationId":
        "612f38bb-d008-4304-a94b-ec6a358ffe2f", "providers": [{"namespace": "Microsoft.HybridNetwork",
        "resourceTypes": [{"resourceType": "publishers", "locations": ["uksouth"]},
        {"resourceType": "publishers/artifactStores", "locations": ["uksouth"]}, {"resourceType":
        "publishers/networkServiceDesignGroups", "locations": ["uksouth"]}]}], "dependencies":
        [{"dependsOn": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr",
        "resourceType": "Microsoft.HybridNetwork/publishers/artifactStores", "resourceName":
        "automated-cli-tests-ubuntu-publisher/ubuntu-acr"}, {"dependsOn": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkServiceDesignGroups/ubuntu",
        "resourceType": "Microsoft.HybridNetwork/publishers/networkServiceDesignGroups",
        "resourceName": "automated-cli-tests-ubuntu-publisher/ubuntu"}], "validatedResources":
        [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkServiceDesignGroups/ubuntu"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3033'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:05:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 64E0AE7DEBA7452CB62CAE4829D7318A Ref B: CO6AA3150218017 Ref C: 2024-05-14T22:05:15Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "7209447708351625668"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of a publisher, expected to be in the resource group where you deploy
      the template"}}, "acrArtifactStoreName": {"type": "string", "metadata": {"description":
      "Name of an ACR-backed Artifact Store, deployed under the publisher."}}, "nsDesignGroup":
      {"type": "string", "metadata": {"description": "Name of an Network Service Design
      Group"}}}, "resources": [{"type": "Microsoft.HybridNetwork/publishers", "apiVersion":
      "2023-09-01", "name": "[parameters(''publisherName'')]", "location": "[parameters(''location'')]",
      "properties": {"scope": "Private"}}, {"type": "Microsoft.HybridNetwork/publishers/artifactStores",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      parameters(''acrArtifactStoreName''))]", "location": "[parameters(''location'')]",
      "properties": {"storeType": "AzureContainerRegistry"}, "dependsOn": ["[resourceId(''Microsoft.HybridNetwork/publishers'',
      parameters(''publisherName''))]"]}, {"type": "Microsoft.HybridNetwork/publishers/networkServiceDesignGroups",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      parameters(''nsDesignGroup''))]", "location": "[parameters(''location'')]",
      "dependsOn": ["[resourceId(''Microsoft.HybridNetwork/publishers'', parameters(''publisherName''))]"]}]},
      "parameters": {"location": {"value": "uksouth"}, "publisherName": {"value":
      "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName": {"value": "ubuntu-acr"},
      "nsDesignGroup": {"value": "ubuntu"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '1872'
      Content-Type:
      - application/json
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724316",
        "name": "AOSM_CLI_deployment_1715724316", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "7209447708351625668", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "nsDesignGroup": {"type": "String",
        "value": "ubuntu"}}, "mode": "Incremental", "provisioningState": "Accepted",
        "timestamp": "2024-05-14T22:05:23.3016804Z", "duration": "PT0.0008481S", "correlationId":
        "ef29bec2-8524-424c-8d82-57b7c354b116", "providers": [{"namespace": "Microsoft.HybridNetwork",
        "resourceTypes": [{"resourceType": "publishers", "locations": ["uksouth"]},
        {"resourceType": "publishers/artifactStores", "locations": ["uksouth"]}, {"resourceType":
        "publishers/networkServiceDesignGroups", "locations": ["uksouth"]}]}], "dependencies":
        [{"dependsOn": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr",
        "resourceType": "Microsoft.HybridNetwork/publishers/artifactStores", "resourceName":
        "automated-cli-tests-ubuntu-publisher/ubuntu-acr"}, {"dependsOn": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkServiceDesignGroups/ubuntu",
        "resourceType": "Microsoft.HybridNetwork/publishers/networkServiceDesignGroups",
        "resourceName": "automated-cli-tests-ubuntu-publisher/ubuntu"}]}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724316/operationStatuses/08584858825644003333?api-version=2022-09-01
      cache-control:
      - no-cache
      content-length:
      - '2412'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:05:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 21CBFCC4F1974E0F9CF6BC4B66A2CB88 Ref B: CO6AA3150219045 Ref C: 2024-05-14T22:05:18Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858825644003333?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Accepted"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:05:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 03D7A799C017407983DDED6D2483639C Ref B: CO6AA3150218025 Ref C: 2024-05-14T22:05:24Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858825644003333?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:05:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 3F8E8C9EE5B64E538B1CE51132FBBE86 Ref B: CO6AA3150219045 Ref C: 2024-05-14T22:05:55Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858825644003333?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:06:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: C33EAF0C55D94B12A3BA212ACBE28DD4 Ref B: CO6AA3150217009 Ref C: 2024-05-14T22:06:26Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858825644003333?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:06:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 005152A308E645A8992DD468F819C7E0 Ref B: CO6AA3150218053 Ref C: 2024-05-14T22:06:56Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858825644003333?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:07:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: EAD77C32E5C34800AC87F2A335E6851A Ref B: CO6AA3150219011 Ref C: 2024-05-14T22:07:27Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858825644003333?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:07:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 0C84BB2689484BA1B5797FF8EF30214F Ref B: CO6AA3150217047 Ref C: 2024-05-14T22:07:58Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858825644003333?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:08:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: AE014EDFC37A4582AF93AA6ED347349E Ref B: CO6AA3150218029 Ref C: 2024-05-14T22:08:29Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858825644003333?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:09:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 678F2F77DD3F4AD983E64FB875B4CC5B Ref B: CO6AA3150218039 Ref C: 2024-05-14T22:09:00Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858825644003333?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:09:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 7389D1680BDB4F84B1E897DA4DE9580F Ref B: CO6AA3150220017 Ref C: 2024-05-14T22:09:31Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858825644003333?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:10:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1537D29BFC704B75BD9220CD57EF47F7 Ref B: CO6AA3150220053 Ref C: 2024-05-14T22:10:02Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858825644003333?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:10:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1F72A37E0D51472DB60EED062A1E6FE2 Ref B: CO6AA3150218047 Ref C: 2024-05-14T22:10:32Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858825644003333?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '23'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:11:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 9418C2708DE74AF08D625B871176CE33 Ref B: CO6AA3150218023 Ref C: 2024-05-14T22:11:03Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724316",
        "name": "AOSM_CLI_deployment_1715724316", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "7209447708351625668", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "nsDesignGroup": {"type": "String",
        "value": "ubuntu"}}, "mode": "Incremental", "provisioningState": "Succeeded",
        "timestamp": "2024-05-14T22:10:59.352573Z", "duration": "PT5M36.0517407S",
        "correlationId": "ef29bec2-8524-424c-8d82-57b7c354b116", "providers": [{"namespace":
        "Microsoft.HybridNetwork", "resourceTypes": [{"resourceType": "publishers",
        "locations": ["uksouth"]}, {"resourceType": "publishers/artifactStores", "locations":
        ["uksouth"]}, {"resourceType": "publishers/networkServiceDesignGroups", "locations":
        ["uksouth"]}]}], "dependencies": [{"dependsOn": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr",
        "resourceType": "Microsoft.HybridNetwork/publishers/artifactStores", "resourceName":
        "automated-cli-tests-ubuntu-publisher/ubuntu-acr"}, {"dependsOn": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher",
        "resourceType": "Microsoft.HybridNetwork/publishers", "resourceName": "automated-cli-tests-ubuntu-publisher"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkServiceDesignGroups/ubuntu",
        "resourceType": "Microsoft.HybridNetwork/publishers/networkServiceDesignGroups",
        "resourceName": "automated-cli-tests-ubuntu-publisher/ubuntu"}], "outputResources":
        [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkServiceDesignGroups/ubuntu"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3048'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:11:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 4A50E083C9484D0A96103B3164C4AD52 Ref B: CO6AA3150219047 Ref C: 2024-05-14T22:11:04Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nsd-manifest-1-0-0?api-version=2023-09-01
  response:
    body:
      string: '{"error": {"code": "ResourceNotFound", "message": "The Resource ''Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nsd-manifest-1-0-0''
        under resource group ''cli_test_vnf_nsd_000001'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '340'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:11:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
      x-msedge-ref:
      - 'Ref A: CE9C86B057E848678A3C5EE3E90C8F43 Ref B: CO6AA3150220035 Ref C: 2024-05-14T22:11:05Z'
    status:
      code: 404
      message: Not Found
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "4427436475820049820"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "acrManifestName": {"type": "string", "metadata": {"description":
      "Name of the Artifact Manifest to create"}}}, "resources": [{"type": "Microsoft.HybridNetwork/publishers/artifactStores/artifactManifests",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''acrArtifactStoreName''), parameters(''acrManifestName''))]", "location":
      "[parameters(''location'')]", "properties": {"artifacts": [{"artifactName":
      "ubuntu-vm", "artifactType": "OCIArtifact", "artifactVersion": "1.0.0"}]}}]},
      "parameters": {"location": {"value": "uksouth"}, "publisherName": {"value":
      "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName": {"value": "ubuntu-acr"},
      "acrManifestName": {"value": "ubuntu-nsd-manifest-1-0-0"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '1412'
      Content-Type:
      - application/json
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/validate?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724669",
        "name": "AOSM_CLI_deployment_1715724669", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "4427436475820049820", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "acrManifestName": {"type": "String",
        "value": "ubuntu-nsd-manifest-1-0-0"}}, "mode": "Incremental", "provisioningState":
        "Succeeded", "timestamp": "0001-01-01T00:00:00Z", "duration": "PT0S", "correlationId":
        "05676aff-7ac6-48d8-987b-20f700264af9", "providers": [{"namespace": "Microsoft.HybridNetwork",
        "resourceTypes": [{"resourceType": "publishers/artifactStores/artifactManifests",
        "locations": ["uksouth"]}]}], "dependencies": [], "validatedResources": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nsd-manifest-1-0-0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1247'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:11:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: B9788CFFC67F4F8BBEC9ECF823C2A64C Ref B: CO6AA3150219039 Ref C: 2024-05-14T22:11:08Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "4427436475820049820"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "acrManifestName": {"type": "string", "metadata": {"description":
      "Name of the Artifact Manifest to create"}}}, "resources": [{"type": "Microsoft.HybridNetwork/publishers/artifactStores/artifactManifests",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''acrArtifactStoreName''), parameters(''acrManifestName''))]", "location":
      "[parameters(''location'')]", "properties": {"artifacts": [{"artifactName":
      "ubuntu-vm", "artifactType": "OCIArtifact", "artifactVersion": "1.0.0"}]}}]},
      "parameters": {"location": {"value": "uksouth"}, "publisherName": {"value":
      "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName": {"value": "ubuntu-acr"},
      "acrManifestName": {"value": "ubuntu-nsd-manifest-1-0-0"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '1412'
      Content-Type:
      - application/json
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724669",
        "name": "AOSM_CLI_deployment_1715724669", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "4427436475820049820", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "acrManifestName": {"type": "String",
        "value": "ubuntu-nsd-manifest-1-0-0"}}, "mode": "Incremental", "provisioningState":
        "Accepted", "timestamp": "2024-05-14T22:11:16.4413883Z", "duration": "PT0.0001003S",
        "correlationId": "827cc234-b399-4fe4-a1f9-d90135506736", "providers": [{"namespace":
        "Microsoft.HybridNetwork", "resourceTypes": [{"resourceType": "publishers/artifactStores/artifactManifests",
        "locations": ["uksouth"]}]}], "dependencies": []}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724669/operationStatuses/08584858822113007971?api-version=2022-09-01
      cache-control:
      - no-cache
      content-length:
      - '984'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:11:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 1F0FD0A8D5454A8C8DCD46823DC5424D Ref B: CO6AA3150219019 Ref C: 2024-05-14T22:11:12Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858822113007971?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:11:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 5ECA975431AB463DBE3AEBA2F6EC87FA Ref B: CO6AA3150220031 Ref C: 2024-05-14T22:11:17Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858822113007971?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:11:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 89C7035470F6407FBDAF379F6CF16873 Ref B: CO6AA3150219017 Ref C: 2024-05-14T22:11:48Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858822113007971?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:12:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 0ED934CBC1D04DC8B9CC1A5F6A097954 Ref B: CO6AA3150219037 Ref C: 2024-05-14T22:12:19Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858822113007971?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '23'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:12:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 228A3F558B904CB297AB9AF2E9DB47B4 Ref B: CO6AA3150217021 Ref C: 2024-05-14T22:12:50Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724669",
        "name": "AOSM_CLI_deployment_1715724669", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "4427436475820049820", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "acrManifestName": {"type": "String",
        "value": "ubuntu-nsd-manifest-1-0-0"}}, "mode": "Incremental", "provisioningState":
        "Succeeded", "timestamp": "2024-05-14T22:12:44.7575147Z", "duration": "PT1M28.3162267S",
        "correlationId": "827cc234-b399-4fe4-a1f9-d90135506736", "providers": [{"namespace":
        "Microsoft.HybridNetwork", "resourceTypes": [{"resourceType": "publishers/artifactStores/artifactManifests",
        "locations": ["uksouth"]}]}], "dependencies": [], "outputResources": [{"id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nsd-manifest-1-0-0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1263'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:12:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: DAE72FACF3974168A6F6FBF6D191C92F Ref B: CO6AA3150217027 Ref C: 2024-05-14T22:12:50Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/artifactStores/ubuntu-acr/artifactManifests/ubuntu-nsd-manifest-1-0-0/listCredential?api-version=2023-09-01
  response:
    body:
      string: '{"username": "ubuntu-nsd-manifest-1-0-0", "acrToken": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
        "acrServerUrl": "https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io",
        "repositories": ["ubuntu-vm"], "expiry": "2024-05-15T22:12:58.7161582+00:00",
        "credentialType": "AzureContainerRegistryScopedToken"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '331'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:12:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-build-version:
      - 1.0.02682.2890
      x-ms-providerhub-traffic:
      - 'True'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-msedge-ref:
      - 'Ref A: 9105744B708E419DA7A9C6058559C4E9 Ref B: CO6AA3150217051 Ref C: 2024-05-14T22:12:53Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.31.0
    method: POST
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/ubuntu-vm/blobs/uploads/
  response:
    body:
      string: '{"errors": [{"code": "UNAUTHORIZED", "message": "authentication required,
        visit https://aka.ms/acr/authorization for more information.", "detail": [{"Type":
        "repository", "Name": "ubuntu-vm", "Action": "pull"}, {"Type": "repository",
        "Name": "ubuntu-vm", "Action": "push"}]}]}'
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '276'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:12:59 GMT
      docker-distribution-api-version:
      - registry/2.0
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer realm="https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/oauth2/token",service="automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io",scope="repository:ubuntu-vm:pull,push"
      x-content-type-options:
      - nosniff
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Service:
      - automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io
      User-Agent:
      - oras-py
    method: GET
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/oauth2/token?service=automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io&scope=repository%3Aubuntu-vm%3Apull%2Cpush
  response:
    body:
      string: '{"access_token": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}'
    headers:
      connection:
      - keep-alive
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:13:00 GMT
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-ms-ratelimit-remaining-calls-per-second:
      - '333.316667'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.31.0
    method: POST
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/ubuntu-vm/blobs/uploads/
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:13:00 GMT
      docker-distribution-api-version:
      - registry/2.0
      docker-upload-uuid:
      - 9b621826-025b-4f1c-a225-ccf88cf03385
      location:
      - /v2/ubuntu-vm/blobs/uploads/9b621826-025b-4f1c-a225-ccf88cf03385?_nouploadcache=false&_state=ghnOWODTdb__pW9uJVR7eM8sMX4aFLa0K5TFxGYG_Id7Ik5hbWUiOiJ1YnVudHUtdm0iLCJVVUlEIjoiOWI2MjE4MjYtMDI1Yi00ZjFjLWEyMjUtY2NmODhjZjAzMzg1IiwiT2Zmc2V0IjowLCJTdGFydGVkQXQiOiIyMDI0LTA1LTE0VDIyOjEzOjAwLjg3OTkxOTg4OVoifQ%3D%3D
      range:
      - 0-0
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: '{"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "7518080251401560663"}}, "parameters": {"configObject":
      {"type": "secureObject"}}, "variables": {"resourceGroupId": "[resourceGroup().id]",
      "identityObject": "[if(equals(parameters(''configObject'').managedIdentityId,
      ''''), createObject(''type'', ''SystemAssigned''), createObject(''type'', ''UserAssigned'',
      ''userAssignedIdentities'', createObject(format(''{0}'', parameters(''configObject'').managedIdentityId),
      createObject())))]", "nfdvSymbolicName": "[format(''{0}/{1}/{2}'', parameters(''configObject'').publisherName,
      parameters(''configObject'').nfdgName, parameters(''configObject'').nfdv)]"},
      "resources": [{"copy": {"name": "nfResource", "count": "[length(parameters(''configObject'').deployParameters)]"},
      "type": "Microsoft.HybridNetwork/networkFunctions", "apiVersion": "2023-09-01",
      "name": "[format(''{0}{1}'', parameters(''configObject'').nfdgName, copyIndex())]",
      "location": "[parameters(''configObject'').location]", "identity": "[variables(''identityObject'')]",
      "properties": {"networkFunctionDefinitionVersionResourceReference": {"id": "[extensionResourceId(format(''/subscriptions/{0}/resourceGroups/{1}'',
      subscription().subscriptionId, parameters(''configObject'').publisherResourceGroup),
      ''Microsoft.HybridNetwork/publishers/networkFunctionDefinitionGroups/networkFunctionDefinitionVersions'',
      split(variables(''nfdvSymbolicName''), ''/'')[0], split(variables(''nfdvSymbolicName''),
      ''/'')[1], split(variables(''nfdvSymbolicName''), ''/'')[2])]", "idType": "Open"},
      "nfviType": "AzureCore", "nfviId": "[if(equals(parameters(''configObject'').customLocationId,
      ''''), variables(''resourceGroupId''), parameters(''configObject'').customLocationId)]",
      "allowSoftwareUpdate": true, "configurationType": "Open", "deploymentValues":
      "[string(parameters(''configObject'').deployParameters[copyIndex()])]"}}]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1981'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.31.0
    method: PUT
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/ubuntu-vm/blobs/uploads/9b621826-025b-4f1c-a225-ccf88cf03385?_nouploadcache=false&_state=ghnOWODTdb__pW9uJVR7eM8sMX4aFLa0K5TFxGYG_Id7Ik5hbWUiOiJ1YnVudHUtdm0iLCJVVUlEIjoiOWI2MjE4MjYtMDI1Yi00ZjFjLWEyMjUtY2NmODhjZjAzMzg1IiwiT2Zmc2V0IjowLCJTdGFydGVkQXQiOiIyMDI0LTA1LTE0VDIyOjEzOjAwLjg3OTkxOTg4OVoifQ%3D%3D&digest=sha256%3A5a70ffcd7cb26333cc6ce712458642da234a2da0605c202775b4400588ca4166
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:13:01 GMT
      docker-content-digest:
      - sha256:5a70ffcd7cb26333cc6ce712458642da234a2da0605c202775b4400588ca4166
      docker-distribution-api-version:
      - registry/2.0
      location:
      - /v2/ubuntu-vm/blobs/sha256:5a70ffcd7cb26333cc6ce712458642da234a2da0605c202775b4400588ca4166
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.31.0
    method: POST
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/ubuntu-vm/blobs/uploads/
  response:
    body:
      string: '{"errors": [{"code": "UNAUTHORIZED", "message": "authentication required,
        visit https://aka.ms/acr/authorization for more information.", "detail": [{"Type":
        "repository", "Name": "ubuntu-vm", "Action": "pull"}, {"Type": "repository",
        "Name": "ubuntu-vm", "Action": "push"}]}]}'
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '276'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:13:02 GMT
      docker-distribution-api-version:
      - registry/2.0
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer realm="https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/oauth2/token",service="automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io",scope="repository:ubuntu-vm:pull,push"
      x-content-type-options:
      - nosniff
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Service:
      - automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io
      User-Agent:
      - oras-py
    method: GET
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/oauth2/token?service=automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io&scope=repository%3Aubuntu-vm%3Apull%2Cpush
  response:
    body:
      string: '{"access_token": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}'
    headers:
      connection:
      - keep-alive
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:13:02 GMT
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-ms-ratelimit-remaining-calls-per-second:
      - '333.316667'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.31.0
    method: POST
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/ubuntu-vm/blobs/uploads/
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:13:03 GMT
      docker-distribution-api-version:
      - registry/2.0
      docker-upload-uuid:
      - 84c8ed23-33b1-4be9-89ed-8002573618e1
      location:
      - /v2/ubuntu-vm/blobs/uploads/84c8ed23-33b1-4be9-89ed-8002573618e1?_nouploadcache=false&_state=5WCI9SKPLZLC9NMbvebAefTuWNNJbCcqb1vz4usv-TB7Ik5hbWUiOiJ1YnVudHUtdm0iLCJVVUlEIjoiODRjOGVkMjMtMzNiMS00YmU5LTg5ZWQtODAwMjU3MzYxOGUxIiwiT2Zmc2V0IjowLCJTdGFydGVkQXQiOiIyMDI0LTA1LTE0VDIyOjEzOjAzLjQ3NzIyMTYzNFoifQ%3D%3D
      range:
      - 0-0
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: '{}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/octet-stream
      User-Agent:
      - python-requests/2.31.0
    method: PUT
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/ubuntu-vm/blobs/uploads/84c8ed23-33b1-4be9-89ed-8002573618e1?_nouploadcache=false&_state=5WCI9SKPLZLC9NMbvebAefTuWNNJbCcqb1vz4usv-TB7Ik5hbWUiOiJ1YnVudHUtdm0iLCJVVUlEIjoiODRjOGVkMjMtMzNiMS00YmU5LTg5ZWQtODAwMjU3MzYxOGUxIiwiT2Zmc2V0IjowLCJTdGFydGVkQXQiOiIyMDI0LTA1LTE0VDIyOjEzOjAzLjQ3NzIyMTYzNFoifQ%3D%3D&digest=sha256%3A44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:13:04 GMT
      docker-content-digest:
      - sha256:44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      docker-distribution-api-version:
      - registry/2.0
      location:
      - /v2/ubuntu-vm/blobs/sha256:44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: '{"schemaVersion": 2, "mediaType": "application/vnd.oci.image.manifest.v1+json",
      "config": {"mediaType": "application/vnd.unknown.config.v1+json", "size": 2,
      "digest": "sha256:44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a"},
      "layers": [{"mediaType": "application/vnd.oci.image.layer.v1.tar", "size": 1981,
      "digest": "sha256:5a70ffcd7cb26333cc6ce712458642da234a2da0605c202775b4400588ca4166",
      "annotations": {"org.opencontainers.image.title": "ubuntu-vm.json"}}], "annotations":
      {}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '498'
      Content-Type:
      - application/vnd.oci.image.manifest.v1+json
      User-Agent:
      - python-requests/2.31.0
    method: PUT
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/ubuntu-vm/manifests/1.0.0
  response:
    body:
      string: '{"errors": [{"code": "UNAUTHORIZED", "message": "authentication required,
        visit https://aka.ms/acr/authorization for more information.", "detail": [{"Type":
        "repository", "Name": "ubuntu-vm", "Action": "pull"}, {"Type": "repository",
        "Name": "ubuntu-vm", "Action": "push"}]}]}'
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '276'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:13:04 GMT
      docker-distribution-api-version:
      - registry/2.0
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer realm="https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/oauth2/token",service="automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io",scope="repository:ubuntu-vm:pull,push"
      x-content-type-options:
      - nosniff
    status:
      code: 401
      message: Unauthorized
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Service:
      - automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io
      User-Agent:
      - oras-py
    method: GET
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/oauth2/token?service=automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io&scope=repository%3Aubuntu-vm%3Apull%2Cpush
  response:
    body:
      string: '{"access_token": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}'
    headers:
      connection:
      - keep-alive
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:13:05 GMT
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-ms-ratelimit-remaining-calls-per-second:
      - '333.316667'
    status:
      code: 200
      message: OK
- request:
    body: '{"schemaVersion": 2, "mediaType": "application/vnd.oci.image.manifest.v1+json",
      "config": {"mediaType": "application/vnd.unknown.config.v1+json", "size": 2,
      "digest": "sha256:44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a"},
      "layers": [{"mediaType": "application/vnd.oci.image.layer.v1.tar", "size": 1981,
      "digest": "sha256:5a70ffcd7cb26333cc6ce712458642da234a2da0605c202775b4400588ca4166",
      "annotations": {"org.opencontainers.image.title": "ubuntu-vm.json"}}], "annotations":
      {}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '498'
      Content-Type:
      - application/vnd.oci.image.manifest.v1+json
      User-Agent:
      - python-requests/2.31.0
    method: PUT
    uri: https://automatedclitestsubuntupublisherubuntuac7b3939736a.azurecr.io/v2/ubuntu-vm/manifests/1.0.0
  response:
    body:
      string: ''
    headers:
      access-control-expose-headers:
      - Docker-Content-Digest
      - WWW-Authenticate
      - Link
      - X-Ms-Correlation-Request-Id
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Tue, 14 May 2024 22:13:06 GMT
      docker-content-digest:
      - sha256:af1388b6ce985243feeb696d1140b41318b4032856531d64cd1929e7e9131ffd
      docker-distribution-api-version:
      - registry/2.0
      location:
      - /v2/ubuntu-vm/manifests/sha256:af1388b6ce985243feeb696d1140b41318b4032856531d64cd1929e7e9131ffd
      server:
      - AzureContainerRegistry
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "9383386246346247281"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "nsDesignGroup": {"type": "string", "metadata": {"description":
      "Name of an existing Network Service Design Group"}}, "nsDesignVersion": {"type":
      "string", "metadata": {"description": "The version of the NSDV you want to create,
      in format A.B.C"}}, "nfviSiteName": {"type": "string", "defaultValue": "ubuntu_NFVI",
      "metadata": {"description": "Name of the nfvi site"}}}, "variables": {"$fxv#0":
      {"$schema": "https://json-schema.org/draft-07/schema#", "title": "ConfigGroupSchema",
      "type": "object", "properties": {"ubuntu-vm": {"type": "object", "properties":
      {"nfdv": {"type": "string"}, "deployParameters": {"type": "array", "items":
      {"type": "object", "properties": {"automated-cli-tests-artifact": {"type": "object",
      "properties": {"subnetName": {"type": "string"}, "virtualNetworkId": {"type":
      "string"}, "sshPublicKeyAdmin": {"type": "string"}}, "required": ["subnetName",
      "virtualNetworkId", "sshPublicKeyAdmin"]}}, "required": ["automated-cli-tests-artifact"]}},
      "managedIdentityId": {"type": "string"}}, "required": ["nfdv", "deployParameters",
      "managedIdentityId"]}}, "required": ["ubuntu-vm"]}, "$fxv#1": {"configObject":
      {"location": "uksouth", "publisherName": "automated-cli-tests-ubuntu-publisher",
      "nfdgName": "ubuntu-vm", "publisherResourceGroup": "cli_test_vnf_nsd_000001",
      "customLocationId": "", "nfdv": "{configurationparameters(''ConfigGroupSchema'').ubuntu-vm.nfdv}",
      "deployParameters": "{configurationparameters(''ConfigGroupSchema'').ubuntu-vm.deployParameters}",
      "managedIdentityId": "{configurationparameters(''ConfigGroupSchema'').ubuntu-vm.managedIdentityId}"}}},
      "resources": [{"type": "Microsoft.HybridNetwork/publishers/configurationGroupSchemas",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      ''ConfigGroupSchema'')]", "location": "[parameters(''location'')]", "properties":
      {"schemaDefinition": "[string(variables(''$fxv#0''))]"}}, {"type": "Microsoft.HybridNetwork/publishers/networkServiceDesignGroups/networkServiceDesignVersions",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''nsDesignGroup''), parameters(''nsDesignVersion''))]", "location":
      "[parameters(''location'')]", "properties": {"description": "Plain ubuntu VM",
      "configurationGroupSchemaReferences": {"ConfigGroupSchema": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/configurationGroupSchemas'',
      parameters(''publisherName''), ''ConfigGroupSchema'')]"}}, "nfvisFromSite":
      {"nfvi1": {"name": "[format(''{0}1'', parameters(''nfviSiteName''))]", "type":
      "AzureCore"}}, "resourceElementTemplates": [{"name": "ubuntu-vm", "type": "NetworkFunctionDefinition",
      "configuration": {"artifactProfile": {"artifactStoreReference": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/artifactStores'',
      parameters(''publisherName''), parameters(''acrArtifactStoreName''))]"}, "artifactName":
      "ubuntu-vm", "artifactVersion": "1.0.0"}, "templateType": "ArmTemplate", "parameterValues":
      "[string(variables(''$fxv#1''))]"}, "dependsOnProfile": {"installDependsOn":
      [], "uninstallDependsOn": [], "updateDependsOn": []}}]}, "dependsOn": ["[resourceId(''Microsoft.HybridNetwork/publishers/configurationGroupSchemas'',
      parameters(''publisherName''), ''ConfigGroupSchema'')]"]}]}, "parameters": {"location":
      {"value": "uksouth"}, "publisherName": {"value": "automated-cli-tests-ubuntu-publisher"},
      "acrArtifactStoreName": {"value": "ubuntu-acr"}, "nsDesignGroup": {"value":
      "ubuntu"}, "nsDesignVersion": {"value": "1.0.0"}, "nfviSiteName": {"value":
      "ubuntu_NFVI"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '4169'
      Content-Type:
      - application/json
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/validate?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724789",
        "name": "AOSM_CLI_deployment_1715724789", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "9383386246346247281", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "nsDesignGroup": {"type": "String",
        "value": "ubuntu"}, "nsDesignVersion": {"type": "String", "value": "1.0.0"},
        "nfviSiteName": {"type": "String", "value": "ubuntu_NFVI"}}, "mode": "Incremental",
        "provisioningState": "Succeeded", "timestamp": "0001-01-01T00:00:00Z", "duration":
        "PT0S", "correlationId": "d8d71e3c-55ca-4f69-b93f-f0255ec36322", "providers":
        [{"namespace": "Microsoft.HybridNetwork", "resourceTypes": [{"resourceType":
        "publishers/configurationGroupSchemas", "locations": ["uksouth"]}, {"resourceType":
        "publishers/networkServiceDesignGroups/networkServiceDesignVersions", "locations":
        ["uksouth"]}]}], "dependencies": [{"dependsOn": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/configurationGroupSchemas/ConfigGroupSchema",
        "resourceType": "Microsoft.HybridNetwork/publishers/configurationGroupSchemas",
        "resourceName": "automated-cli-tests-ubuntu-publisher/ConfigGroupSchema"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkServiceDesignGroups/ubuntu/networkServiceDesignVersions/1.0.0",
        "resourceType": "Microsoft.HybridNetwork/publishers/networkServiceDesignGroups/networkServiceDesignVersions",
        "resourceName": "automated-cli-tests-ubuntu-publisher/ubuntu/1.0.0"}], "validatedResources":
        [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/configurationGroupSchemas/ConfigGroupSchema"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkServiceDesignGroups/ubuntu/networkServiceDesignVersions/1.0.0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2504'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:13:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: C45275ADD32F46FEA6BE0D3AF668E834 Ref B: CO6AA3150217053 Ref C: 2024-05-14T22:13:08Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.26.170.59819", "templateHash": "9383386246346247281"}}, "parameters": {"location":
      {"type": "string"}, "publisherName": {"type": "string", "metadata": {"description":
      "Name of an existing publisher, expected to be in the resource group where you
      deploy the template"}}, "acrArtifactStoreName": {"type": "string", "metadata":
      {"description": "Name of an existing ACR-backed Artifact Store, deployed under
      the publisher."}}, "nsDesignGroup": {"type": "string", "metadata": {"description":
      "Name of an existing Network Service Design Group"}}, "nsDesignVersion": {"type":
      "string", "metadata": {"description": "The version of the NSDV you want to create,
      in format A.B.C"}}, "nfviSiteName": {"type": "string", "defaultValue": "ubuntu_NFVI",
      "metadata": {"description": "Name of the nfvi site"}}}, "variables": {"$fxv#0":
      {"$schema": "https://json-schema.org/draft-07/schema#", "title": "ConfigGroupSchema",
      "type": "object", "properties": {"ubuntu-vm": {"type": "object", "properties":
      {"nfdv": {"type": "string"}, "deployParameters": {"type": "array", "items":
      {"type": "object", "properties": {"automated-cli-tests-artifact": {"type": "object",
      "properties": {"subnetName": {"type": "string"}, "virtualNetworkId": {"type":
      "string"}, "sshPublicKeyAdmin": {"type": "string"}}, "required": ["subnetName",
      "virtualNetworkId", "sshPublicKeyAdmin"]}}, "required": ["automated-cli-tests-artifact"]}},
      "managedIdentityId": {"type": "string"}}, "required": ["nfdv", "deployParameters",
      "managedIdentityId"]}}, "required": ["ubuntu-vm"]}, "$fxv#1": {"configObject":
      {"location": "uksouth", "publisherName": "automated-cli-tests-ubuntu-publisher",
      "nfdgName": "ubuntu-vm", "publisherResourceGroup": "cli_test_vnf_nsd_000001",
      "customLocationId": "", "nfdv": "{configurationparameters(''ConfigGroupSchema'').ubuntu-vm.nfdv}",
      "deployParameters": "{configurationparameters(''ConfigGroupSchema'').ubuntu-vm.deployParameters}",
      "managedIdentityId": "{configurationparameters(''ConfigGroupSchema'').ubuntu-vm.managedIdentityId}"}}},
      "resources": [{"type": "Microsoft.HybridNetwork/publishers/configurationGroupSchemas",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}'', parameters(''publisherName''),
      ''ConfigGroupSchema'')]", "location": "[parameters(''location'')]", "properties":
      {"schemaDefinition": "[string(variables(''$fxv#0''))]"}}, {"type": "Microsoft.HybridNetwork/publishers/networkServiceDesignGroups/networkServiceDesignVersions",
      "apiVersion": "2023-09-01", "name": "[format(''{0}/{1}/{2}'', parameters(''publisherName''),
      parameters(''nsDesignGroup''), parameters(''nsDesignVersion''))]", "location":
      "[parameters(''location'')]", "properties": {"description": "Plain ubuntu VM",
      "configurationGroupSchemaReferences": {"ConfigGroupSchema": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/configurationGroupSchemas'',
      parameters(''publisherName''), ''ConfigGroupSchema'')]"}}, "nfvisFromSite":
      {"nfvi1": {"name": "[format(''{0}1'', parameters(''nfviSiteName''))]", "type":
      "AzureCore"}}, "resourceElementTemplates": [{"name": "ubuntu-vm", "type": "NetworkFunctionDefinition",
      "configuration": {"artifactProfile": {"artifactStoreReference": {"id": "[resourceId(''Microsoft.HybridNetwork/publishers/artifactStores'',
      parameters(''publisherName''), parameters(''acrArtifactStoreName''))]"}, "artifactName":
      "ubuntu-vm", "artifactVersion": "1.0.0"}, "templateType": "ArmTemplate", "parameterValues":
      "[string(variables(''$fxv#1''))]"}, "dependsOnProfile": {"installDependsOn":
      [], "uninstallDependsOn": [], "updateDependsOn": []}}]}, "dependsOn": ["[resourceId(''Microsoft.HybridNetwork/publishers/configurationGroupSchemas'',
      parameters(''publisherName''), ''ConfigGroupSchema'')]"]}]}, "parameters": {"location":
      {"value": "uksouth"}, "publisherName": {"value": "automated-cli-tests-ubuntu-publisher"},
      "acrArtifactStoreName": {"value": "ubuntu-acr"}, "nsDesignGroup": {"value":
      "ubuntu"}, "nsDesignVersion": {"value": "1.0.0"}, "nfviSiteName": {"value":
      "ubuntu_NFVI"}}, "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      Content-Length:
      - '4169'
      Content-Type:
      - application/json
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724789",
        "name": "AOSM_CLI_deployment_1715724789", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "9383386246346247281", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "nsDesignGroup": {"type": "String",
        "value": "ubuntu"}, "nsDesignVersion": {"type": "String", "value": "1.0.0"},
        "nfviSiteName": {"type": "String", "value": "ubuntu_NFVI"}}, "mode": "Incremental",
        "provisioningState": "Accepted", "timestamp": "2024-05-14T22:13:16.8479077Z",
        "duration": "PT0.000132S", "correlationId": "ccc7813c-7525-4359-9ee6-673975faf8f4",
        "providers": [{"namespace": "Microsoft.HybridNetwork", "resourceTypes": [{"resourceType":
        "publishers/configurationGroupSchemas", "locations": ["uksouth"]}, {"resourceType":
        "publishers/networkServiceDesignGroups/networkServiceDesignVersions", "locations":
        ["uksouth"]}]}], "dependencies": [{"dependsOn": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/configurationGroupSchemas/ConfigGroupSchema",
        "resourceType": "Microsoft.HybridNetwork/publishers/configurationGroupSchemas",
        "resourceName": "automated-cli-tests-ubuntu-publisher/ConfigGroupSchema"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkServiceDesignGroups/ubuntu/networkServiceDesignVersions/1.0.0",
        "resourceType": "Microsoft.HybridNetwork/publishers/networkServiceDesignGroups/networkServiceDesignVersions",
        "resourceName": "automated-cli-tests-ubuntu-publisher/ubuntu/1.0.0"}]}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724789/operationStatuses/08584858820912852082?api-version=2022-09-01
      cache-control:
      - no-cache
      content-length:
      - '2013'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:13:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: D1F4E52D2CC9479D9DB641A08675864D Ref B: CO6AA3150220011 Ref C: 2024-05-14T22:13:11Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858820912852082?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:13:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: A51570BD88F74524A99AC4F3929C6C71 Ref B: CO6AA3150220027 Ref C: 2024-05-14T22:13:18Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858820912852082?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:13:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: AE914CBD43DC401EB44178A51AE1357C Ref B: CO6AA3150217019 Ref C: 2024-05-14T22:13:48Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858820912852082?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '21'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:14:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: A229CF9E66B049539DCE4F483EBE1870 Ref B: CO6AA3150219011 Ref C: 2024-05-14T22:14:19Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08584858820912852082?api-version=2022-09-01
  response:
    body:
      string: '{"status": "Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '23'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:14:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 029C9B63DE1C4DA0A201F17DAFAD0333 Ref B: CO6AA3150218031 Ref C: 2024-05-14T22:14:50Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - aosm nsd publish
      Connection:
      - keep-alive
      ParameterSetName:
      - --build-output-folder
      User-Agent:
      - AZURECLI/2.59.0.post20240417071921 azsdk-python-core/1.30.1 Python/3.10.12
        (Linux-5.15.146.1-microsoft-standard-WSL2-x86_64-with-glibc2.35)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2022-09-01
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.Resources/deployments/AOSM_CLI_deployment_1715724789",
        "name": "AOSM_CLI_deployment_1715724789", "type": "Microsoft.Resources/deployments",
        "properties": {"templateHash": "9383386246346247281", "parameters": {"location":
        {"type": "String", "value": "uksouth"}, "publisherName": {"type": "String",
        "value": "automated-cli-tests-ubuntu-publisher"}, "acrArtifactStoreName":
        {"type": "String", "value": "ubuntu-acr"}, "nsDesignGroup": {"type": "String",
        "value": "ubuntu"}, "nsDesignVersion": {"type": "String", "value": "1.0.0"},
        "nfviSiteName": {"type": "String", "value": "ubuntu_NFVI"}}, "mode": "Incremental",
        "provisioningState": "Succeeded", "timestamp": "2024-05-14T22:14:24.012558Z",
        "duration": "PT1M7.1647823S", "correlationId": "ccc7813c-7525-4359-9ee6-673975faf8f4",
        "providers": [{"namespace": "Microsoft.HybridNetwork", "resourceTypes": [{"resourceType":
        "publishers/configurationGroupSchemas", "locations": ["uksouth"]}, {"resourceType":
        "publishers/networkServiceDesignGroups/networkServiceDesignVersions", "locations":
        ["uksouth"]}]}], "dependencies": [{"dependsOn": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/configurationGroupSchemas/ConfigGroupSchema",
        "resourceType": "Microsoft.HybridNetwork/publishers/configurationGroupSchemas",
        "resourceName": "automated-cli-tests-ubuntu-publisher/ConfigGroupSchema"}],
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkServiceDesignGroups/ubuntu/networkServiceDesignVersions/1.0.0",
        "resourceType": "Microsoft.HybridNetwork/publishers/networkServiceDesignGroups/networkServiceDesignVersions",
        "resourceName": "automated-cli-tests-ubuntu-publisher/ubuntu/1.0.0"}], "outputResources":
        [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/configurationGroupSchemas/ConfigGroupSchema"},
        {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_vnf_nsd_000001/providers/Microsoft.HybridNetwork/publishers/automated-cli-tests-ubuntu-publisher/networkServiceDesignGroups/ubuntu/networkServiceDesignVersions/1.0.0"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2518'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2024 22:14:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: DF6080278DB74B68B505B7C0FA57083D Ref B: CO6AA3150218049 Ref C: 2024-05-14T22:14:51Z'
    status:
      code: 200
      message: OK
version: 1
